<!DOCTYPE html>
<html lang="en-US">

<head>
	<title>Welcome to Ricebook!</title>
	<meta charset="UTF-8">
	<meta name="author" content="Xing Liu">
</head>

<body style="background-color:pink;">

<h1>This is Ricebook</h1>

<form method="GET" action="formProcessor.html" id="signUp"> 

	<p>
		Account name (only be upper or lower case letters and numbers, but may not start with a number)<br>
		<input type="text" name="accnam" placeholder="your account name" pattern="^[A-Za-z][A-Za-z0-9]*$" title="Account name can only be upper or lower case letters and numbers, but may not start with a number." required>
	</p>

	<p>
		Display name (optional)<br>
		<input type="text" name="disnam" placeholder="dispaly name">
	</p>

	<p>
		Email address (email@example.com)<br>
		<input type="eml" placeholder="email@example.com" pattern="^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$" name="email" title="You should follow this format: email@example.com" required>
	</p>

	<p>
		Phone number (123-456-7890)<br>
		<input type="text" name="phnum" id="phnum" placeholder="123-456-7890" 
		pattern="\d\d\d-\d\d\d-\d\d\d\d" title="You should follow this format: 123-456-7890" required>
	</p>

	<p>
		Date of birth<br>
		<input type="date" id="bday" name="bday" required>
	</p>

	<script type="text/javascript">
		function validation() {
			var currTime = Date.now();
    		document.getElementById("timestamp").value = currTime;
    		var bday = new Date(document.getElementById("bday").value);
    		//console.log(document.getElementById("birthday").value);
    		//return false;
    		var ageDifMs = Date.now() - bday.getTime();
    		var ageDate = new Date(ageDifMs);f
    		if(Math.abs(ageDate.getUTCFullYear() - 1970) < 18) {
    			window.alert("You must reach 18 years old to sign up!");
    			return false;
    		}
    		var password = document.getElementById("password").value;
    		var Password = document.getElementById("comfirmPassword").value;
    		if(password !== Password) {
    			window.alert("Your passwords don't match!");
    			return false;
    		}
    		return true;
		}
	</script>


	<p>
		Zipcode<br>
		<input type="text" name="zipcode" placeholder="zipcode" pattern="\d\d\d\d\d" title="You should follow this format: 12345" required>
	</p>

	<p>
		Password<br>
		<input type="password" id="password" name="password" placeholder="password" required>
	</p>

	<p>
		Comfirm your password<br>
		<input type="password" id="comfirmPassword" name="comfirmPassword" placeholder="comfirm password" required>
	</p>

	<p><input type="hidden" id="timestamp" name="timestamp"></p>

	<p>
		<input type="submit" value="Sign up" onclick="return validation()">
		<input type="reset">
	</p>


	</form>
	</body>
	</html>
